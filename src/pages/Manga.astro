---
import Layout from "../layouts/Layout.astro";
import ChapterRow from "../components/ChapterRow.astro";
import type { MangaInfo } from "../models/MangaInfo";

import mangaResponse from "../../public/data/manga-response-example.json";

const manga : MangaInfo = mangaResponse;

---

<Layout title="Manga">
  <div class="items-start w-11/12 lg:mt-8 lg:-mx-6 lg:flex">
    <!-- Manga Information -->
    <div class="hero bg-base-200 rounded-xl lg:min-w-fit lg:max-w-md sticky top-8 ">
      <div class="hero-content flex-col">
        <img src={manga.cover} class="max-w-sm rounded-2xl shadow-xl h-96" />
        <div class="flex flex-col items-center">
          <h1 class="text-3xl font-bold justify-center">{manga.name}</h1>
          <p class="text-xl pb-6">{manga.chaptersNumber} capítulos</p>
          <button class="btn btn-primary">Empezar a leer</button>
        </div>
      </div>
    </div>

    <div class="divider divider-vertical lg:divider-horizontal"></div>

    <!-- Manga chapters -->
    <div class="lg:w-full max-lg:mt-0 mx-auto overflow-y-auto">
        <table class="table table-auto table-zebra w-full">
          <!-- head -->
          <thead>
            <tr>
              <th class="max-w-fit">Nº</th>
              <th>Nombre</th>
              <th>Sitio original</th>
            </tr>
          </thead>
          <tbody>
            {manga.chaptersListed.map((chapter) => (
              <ChapterRow 
                chapterNumber={chapter.number}
                chapterName={"Capítulo "+chapter.number}
                link={chapter.linkOriginal}
                originalLink={chapter.linkOriginal}                
                />
            ))}
          </tbody>
        </table>
    </div>
  </div>
</Layout>
